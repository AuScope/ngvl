<div [@routerTransition] class="container-fill">
    <app-page-header [heading]="'Data Explorer'" [icon]="'fa-map'"></app-page-header>
    <div class="row">
        <!-- TODO: Create/use translation strings -->
        <!-- Datasets menu sidebar -->
        <div class="col-lg-3">
            <ngb-accordion #acc="ngbAccordion" activeIds="datasets-menu-accordion">
                <ngb-panel title="Any Text">
                    <ng-template ngbPanelContent>
                        <div class="input-group input-group-sm">
                            <input type="text" class="form-control" placeholder="e.g. Geophysics" name="search">
                            <div class="input-group-btn input-group-apppend">
                                <button class="btn btn-secondary" type="button">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                        </div>
                    </ng-template>
                </ngb-panel>
                <ngb-panel title="Spatial Bounds">
                    <ng-template ngbPanelContent>
                        <div class="input-group input-group-sm">
                            <input type="text" class="form-control" placeholder="Use buttons to enter bounds" [value]="spatialBoundsDisplay" readonly>
                            <div class="input-group-btn input-group-apppend">
                                <button class="btn btn-secondary" type="button" data-toggle="tooltip" title="Current Bounds" (click)="selectSpatialBounds('current-bounds')">
                                    <i class="fa fa-eye"></i>
                                </button>
                                <button class="btn btn-secondary" type="button" data-toggle="tooltip" title="Draw Bounds" (click)="selectSpatialBounds('draw-bounds')">
                                    <i class="fa fa-edit"></i>
                                </button>
                            </div>
                        </div>
                    </ng-template>
                </ngb-panel>
                <ngb-panel title="Keywords">
                    <ng-template ngbPanelContent>
                        <div class="input-group input-group-sm">
                            <select class="form-control" placeholder="Keywords" name="keywords">
                            </select>
                            <div class="input-group-btn input-group-apppend">
                                <button class="btn btn-secondary" type="button">
                                    <i class="fa fa-plus-circle"></i>
                                </button>
                            </div>
                        </div>
                    </ng-template>
                </ngb-panel>
                <ngb-panel title="Available Services">
                    <ng-template ngbPanelContent>
                        <!-- TODO: Populate from server -->
                        <div class="card card-outline-secondary">
                            <label>Gridded Data Services</label>
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <input type="checkbox" id="check1">
                                    </div>
                                </div>
                                <label for="check1">&nbsp;Web Coverage Service</label>
                            </div>
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <input type="checkbox" id="check1">
                                    </div>
                                </div>
                                <label for="check1">&nbsp;NetCDF Subset Service</label>
                            </div>
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <input type="checkbox" id="check1">
                                    </div>
                                </div>
                                <label for="check1">&nbsp;OPenNDAP Service</label>
                            </div>
                        </div>
                        <div class="card card-outline-secondary">
                            <label>Point/Line Data Services</label>
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <input type="checkbox" id="check1">
                                    </div>
                                </div>
                                <label for="check1">&nbsp;Web Feature Service</label>
                            </div>
                        </div>
                        <div class="card card-outline-secondary">
                            <label>Visualisation Services</label>
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend">
                                    <div class="input-group-text">
                                        <input type="checkbox" id="check1">
                                    </div>
                                </div>
                                <label for="check1">&nbsp;Web Map Service</label>
                            </div>
                        </div>
                    </ng-template>
                </ngb-panel>
                <ngb-panel title="Publication Date">
                    <ng-template ngbPanelContent>
                        <div class="input-group input-group-sm">
                            <label class="control-label w-25" for="date-from">From:</label>
                            <input type="text" class="form-control" name="date-from" id="date-from">
                            <div class="input-group-btn input-group-append">
                                <button class="btn btn-secondary" type="button">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </div>
                        </div>
                        <div class="input-group input-group-sm">
                            <label class="control-label w-25" for="date-to">To:</label>
                            <input type="text" class="form-control" name="date-to" id="date-to">
                            <div class="input-group-btn input-group-apppend">
                                <button class="btn btn-secondary" type="button">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </div>
                        </div>
                    </ng-template>
                </ngb-panel>
                <ngb-panel title="Available Registries">
                    <ng-template ngbPanelContent>
                        <!-- TODO: Populate from server -->
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" id="check1">
                                </div>
                            </div>
                            <label for="check1">&nbsp;NCI Data Portal</label>
                        </div>
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend">
                                <div class="input-group-text">
                                    <input type="checkbox" id="check2">
                                </div>
                            </div>
                            <label for="check2">&nbsp;SASS ANU Geonetwork</label>
                        </div>
                    </ng-template>
                </ngb-panel>
                <ngb-panel title="Search Results">
                    <ng-template ngbPanelContent>
                        <!-- TODO: Populate from server -->
                        Search Results
                    </ng-template>
                </ngb-panel>
            </ngb-accordion>
        </div>
        <!-- Datasets map main panel -->
        <div class="col-lg-9">
            <div id="map"></div>
            <!-- Custom drawing tools -->
            <div class="drawing-button-panel">
                <button class="btn btn-info btn-sm" type="button" data-toggle="tooltip" title="Grab" (click)="grabClicked()">
                    <i class="fa fa-hand-grab-o"></i>
                </button>
                <button class="btn btn-info btn-sm" type="button" data-toggle="tooltip" title="Zoom" (click)="zoomClicked()">
                    <i class="fa fa-search-plus"></i>
                </button>
                <button class="btn btn-info btn-sm" type="button" data-toggle="tooltip" title="Select Data" (click)="drawClicked()">
                    <i class="fa fa-edit"></i>
                </button>
            </div>
            <!-- Active layers panel -->
            <!-- TODO: Make title larger so it doesn't expand horizontally when clicked -->
            <div class="active-layers-panel">
                <ngb-accordion #acc="ngbAccordion" activeIds="active-layers-accordion">
                    <ngb-panel title="Active Layers">
                        <ng-template ngbPanelContent>
                            Active layers will appear here
                        </ng-template>
                    </ngb-panel>
                </ngb-accordion>
            </div>
            <!--
            <div class="test-button">
                <button class="btn" type="button" (click)="testButton()">Test</button>
            </div>
            -->
        </div>
    </div>
</div>