<!-- TODO: Styles to CSS -->
<!-- TODO: Translations -->
<div class="modal-header" style="background: #EEE">
    <h5 class="modal-title" id="exampleModalLongTitle">CSW Record Information</h5>
    <button type="button" class="close" (click)="activeModal.dismiss('Cross click')" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
<div class="modal-body" style="margin-left:10px;margin-right:10px;">
    <form>
        <!-- General Information -->
        <div class="form-group row" *ngIf="record.recordInfoUrl && record.recordInfoUrl!=''">
            <label for="csw-source" class="col-3 col-form-label">Source</label>
            <div class="col-9">
                <a href="{{ record.recordInfoUrl }}" id="csw-source" class="form-control" target="_blank">Full metadata and downloads</a>
            </div>
        </div>
        <div class="form-group row" *ngIf="record.name && record.name!=''">
            <label for="csw-name" class="col-3 col-form-label">Title</label>
            <div class="col-9">
                <label id="csw-name" class="form-control">{{ record.name }}</label>
            </div>
        </div>
        <div class="form-group row" *ngIf="record.description && record.description!=''">
            <label for="csw-abstract" class="col-3 col-form-label">Abstract</label>
            <div class="col-9">
                <textarea class="form-control" rows="3" id="csw-abstract">{{ record.description }}</textarea>
            </div>
        </div>
        <div class="form-group row" *ngIf="record.name && record.name!=''">
            <label for="csw-name" class="col-3 col-form-label">Keywords</label>
            <div class="col-9">
                <label id="csw-name" class="form-control">{{ record.descriptiveKeywords.join(", ") }}</label>
            </div>
        </div>
        <div class="form-group row" *ngIf="record.contactOrg && record.contactOrg!=''">
            <label for="csw-name" class="col-3 col-form-label">Contact Org</label>
            <div class="col-9">
                <label id="csw-name" class="form-control">{{ record.contactOrg }}</label>
            </div>
        </div>
        <div class="form-group row" *ngIf="record.constraints && record.constraints!=''">
            <label for="csw-name" class="col-3 col-form-label">Constraints</label>
            <div class="col-9">
                <label id="csw-name" class="form-control">{{ record.constraints.join(", ") }}</label>
            </div>
        </div>

        <!-- Services -->
        <div *ngIf="getOnlineResources(record, 'NCSS').length>0">
            <div style="border: 1px solid; background-color: lightgray;">
                <a (click)="ncssExpanded=!ncssExpanded" class="panel-header" style="cursor:pointer; margin: 2px;">
                    <span>&nbsp;NetCDF Subset Services ({{ getOnlineResources(record, 'NCSS').length }} item<span *ngIf="getOnlineResources(record, 'NCSS').length>1">s</span>)</span>
                    <i *ngIf="!ncssExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-down pull-right"></i>
                    <i *ngIf="ncssExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-up pull-right"></i>
                </a>
                <div *ngFor="let resource of getOnlineResources(record, 'NCSS')" style="border-top: 1px solid; background-color: white; word-wrap: break-word;">
                    <div *ngIf="ncssExpanded" style="margin: 2px;">
                        <strong>{{ resource.name }}</strong>
                        <a href="{{ resource.url }}" target="_blank">{{ resource.url }}</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- VGL has Describe Coverage -> Link to XML -->
        <div *ngIf="getOnlineResources(record, 'WCS').length>0">
            <div style="border: 1px solid; background-color: lightgray;">
                <a (click)="wcsExpanded=!wcsExpanded" class="panel-header" style="cursor:pointer; margin: 2px;">
                    <span>&nbsp;OGC Web Coverage Service 1.0.0 ({{ getOnlineResources(record, 'WCS').length }} item<span *ngIf="getOnlineResources(record, 'WCS').length>1">s</span>)</span>
                    <i *ngIf="!wcsExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-down pull-right"></i>
                    <i *ngIf="wcsExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-up pull-right"></i>
                </a>
                <div *ngFor="let resource of getOnlineResources(record, 'WCS')" style="border-top: 1px solid; background-color: white; word-wrap: break-word;">
                    <div *ngIf="wcsExpanded" style="margin: 2px;">
                        <strong>{{ resource.name }}</strong>
                        <a href="{{ resource.url }}" target="_blank">{{ resource.url }}</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- TODO: VGL has layer preview -->
        <div *ngIf="getOnlineResources(record, 'WMS').length>0">
            <div style="border: 1px solid; background-color: lightgray;">
                <a (click)="wmsExpanded=!wmsExpanded" class="panel-header" style="cursor:pointer; margin: 2px;">
                    <span>&nbsp;OGC Web Map Service 1.1.1 ({{ getOnlineResources(record, 'WMS').length }} item<span *ngIf="getOnlineResources(record, 'WMS').length>1">s</span>)</span>
                    <i *ngIf="!wmsExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-down pull-right"></i>
                    <i *ngIf="wmsExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-up pull-right"></i>
                </a>
                <div *ngFor="let resource of getOnlineResources(record, 'WMS')" style="border-top: 1px solid; background-color: white; word-wrap: break-word;">
                    <div *ngIf="wmsExpanded" style="margin: 2px;">
                        <strong>{{ resource.name }}</strong>
                        <a href="{{ resource.url }}" target="_blank">{{ resource.url }}</a>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="getOnlineResources(record, 'WWW').length>0">
            <div style="border: 1px solid; background-color: lightgray;">
                <a (click)="wwwExpanded=!wwwExpanded" class="panel-header" style="cursor:pointer; margin: 2px;">
                    <span>&nbsp;Web Link ({{ getOnlineResources(record, 'WWW').length }} item<span *ngIf="getOnlineResources(record, 'WWW').length>1">s</span>)</span>
                    <i *ngIf="!wwwExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-down pull-right"></i>
                    <i *ngIf="wwwExpanded" style="line-height:inherit; margin-right: 2px;" class="fa fa-toggle-up pull-right"></i>
                </a>
                <div *ngFor="let resource of getOnlineResources(record, 'WWW')" style="border-top: 1px solid; background-color: white; word-wrap: break-word;">
                    <div *ngIf="wwwExpanded" style="margin: 2px;">
                        <strong>{{ resource.name }}</strong>
                        <a href="{{ resource.url }}" target="_blank">{{ resource.url }}</a>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<div class="modal-footer" style="background: #EEE">
    <button type="button" class="btn btn-secondary" (click)="activeModal.close('Close click')">Close</button>
</div>